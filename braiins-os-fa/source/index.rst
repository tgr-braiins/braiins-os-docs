.. toctree::
   :hidden:
   :maxdepth: 3
   :caption: فهرست مطالب:
   :glob:

   self
   Setup/index*
   Configuration/index*
   Basic User's Guide/index*
   Development/index*

---------------

.. raw:: html

    <script>
      window.fwSettings={
      'widget_id':77000003511
      };
      !function(){if("function"!=typeof window.FreshworksWidget){var n=function(){n.q.push(arguments)};n.q=[],window.FreshworksWidget=n}}()
    </script>
    <script type='text/javascript' src='https://euc-widget.freshworks.com/widgets/77000003511.js' async defer></script>


#####
مقدمه
#####

Braiins OS یک سیستم عامل کاملا متن باز برای ماینرهای ASIC است. این سیستم اولین فیرم ور برای اجرای عمومی AsicBoost در سال ۲۰۱۸ بود و اکنون اجرای پروتکل جدید ماینینگ به نام Stratum V2 را ارائه میدهد.
علاوه بر این، Braiins OS هم سو و هم جهت با نرم افزار جدید ما BOSminer کار میکند که این نرم افزار از صفر و از پایه به زبان Rust نوشته شده است تا جایگزین سی جی ماینر قدیمی باشد.

در حال حاضر دستگاه‌های پشتیبانی شده Antminer S9, S9i, S9j, S17, S17 Pro, S17+, T17 , T17+ شرکت Bitmain هستند. برای دستگاه‌های Antminer S17e, T17e, Whatsminer M20S نیز در آینده نزدیک برنامه ریزی شده است.

********
امکانات
********

 * سیستم عامل متن باز
 * اجرای Stratum V2 با بازده اطلاعاتی بهبود یافته و جلوگیری از دزدی هش ریت
 * جایگزینی CGminer (BOSminer) که به زبان Rust از پایه نوشته شده
 * آماده به کار شدن سریع سیستم ( ۵ تا ۷ ثانیه) 
 * بدون خرابی ناگهانی به دلایل نامعلوم
 * نصب جمعی و گروهی
 * به روز رسانی خودکار با سیستم opkg 
 * کنترل فن کاملا قابل شخصی سازی ( توانایی خنک کنندگی با مایع یا خنک کنندگی غوطه وری)
 * مانیتورینگ پیشرفته برای جلوگیری از داغ شدن بیش از حد دستگاه و سایر مشکلات
 * مکانیسم بروز رسانی خودکار

************************
پشتیبانی و ارتباط با ما
************************

سوالی دارید؟
تیم های پشتیبانی و پشتیبانی ما همیشه برای کمک در دسترس هستند.

به گروه تلگرام ما بپیوندید:

  * `گروه انگلیسی <https://t.me/BraiinsOS>`_
  * `گروه فارسی <https://t.me/BraiinsOS_FA>`_
  * `گروه روسی <https://t.me/BraiinsOS_RU>`_
  * `گروه اسپانیایی  <https://t.me/BraiinsOS_ES>`_
  * `گروه چینی <https://t.me/BraiinsOS_ZH>`_

************
تغییرات نسخه
************

20.09.1
---------------------------

این یک نسخه رفع اشکال است.

* همه سخت افزارهای استخراج

‏  * [feature] برای بازیابی رفتار اصلی با وضوح نام ، محافظت مجدد در DNSmasq را غیرفعال کرده ایم.  معنی آن این است که سرور DNS فارم می تواند پاسخ هایی را نشان دهد که به محدوده IP خصوصی (محلی) اشاره دارند.  اگر فارم دارای پروکسی محلی باشد که با نام در آن قابل دسترسی است، این تجربه کاربر را بهبود می بخشد.
‏  * [feature] پشتیبانی از استخراج اختیاری. پیام هایstratum {ping / pong} که برخی از استخرها برای بررسی فعال بودن ماینر استفاده می کنند
  * ‏[bug] برای حل یک مشکل دیگر از stratum V1 این مورد اجرا شده است، مشکل این بود که برخی از پیاده‌سازی‌های   stratum v1 نتیجه را به عنوان "null" در پاسخ نشان نمی دهد که دارای خطایی است اما موارد مختلفی را در آن قرار می دهد (به عنوان مثال false).  که در این صورت کلاینت stratum اتصال را قطع می کند.  ما این را به یک پیام هشدار تبدیل کرده ایم و کلاینت چنین ناهنجاری هایی را نادیده می گیرد و می تواند محتوای درست را از آن استخراج کند.
  * [bug] نسخه فرمت bosminer.toml اکنون به درستی منتقل می شود
 

* سخت افزار Antminer S17

‏  * [feature] حد دمای داغ به 100 درجه سانتیگراد کاهش یافته است
‏  * [debug feature] آخرین خطای یک دستگاه اکنون به طور پیش فرض به سرور گزارشات ما ارسال می شود.  این کار برای ساده کردن ایرادیابی در S17 است.  اگر این ویژگی مورد قبولتان نیست ، می توان آن را با جایگزین کردن  /etc/init.d/bosminer  "PROG=/usr/bin/bosminer-panic-wrapper" با "PROG=/usr/bin/bosminer" غیرفعال کرد.

20.09
---------------------------

این نسخه پشتیبانی از Antminer S17 و S17 Pro را شامل می شود و شامل نسخه نگهداری برای گروه دستگاه های Antminer S9 است.

* تغییرات برای تمامی دستگاه‌های ماینینگ

  * [feature] دمای چیپ‌ها زمانیکه سنسور دمای هر تراشه ایراد دارد از روی مادربورد به صورتی تقریبی نمایش داده می‌شود.
  * [feature] یکپارچه‌سازی DNSmasq برای حافظه نهان محلی (کش) DNS برای کاهش درخواست ها از نام‌های دامنه.
  * [bug] حل مشکل در مواردی که نرخ‌هش با نسبت ثابت و سهمیه به درستی تقسیم نشده بود.
  * [feature] ما الگوریتم پس‌زدگی را برای استخرهای ناپایداری که فقط در صورتی که به مدت یک ساعت بدون خطا کار کند پایدار در نظر میگیرد را بهبود بخشیم.

* Antminer S17

  * [note] فریم‌ور Braiins OS برای Antminer S17 تفاوتی بین S17 "کلاسیک" و نسخه Pro ندارد زیرا هر دو نوع سخت افزار تقریباً یکسان هستند

20.06
---------------------------

هدف از انتشار این نسخه بهبود عملکرد Braiins OS و BOS Toolbox با پیاده‌سازی امکانات جدید و رفع مشکلات جدی است. 

  * مربوط به تمام نوع سخت افزارها

    * [workaround] پشتیبانی از استخرها بر پایه yiimp (مثال: prohashing) که بصورت اشتباه یک نسخه ماسک شروع شده با '0x' ارسال میکنند، که با مشخصات BIP-310 مطابقت ندارد. 
    * [feature] پشتیبانی از کلمات عبور stratum V1 که آنها در برخی استخرها برای تغییر الگوریتم و سایر موارد استفاده میکنند
    * [feature] پیاده‌سازی مکانیسم بروز رسانی خودکار. دستگاه به صورت دوره‌ای نسخه جدید Braiins OS را بررسی خواهد کرد و به صورت خودکار اگر نسخه جدیدی منتشر شده باشد بروز رسانی خواهد کرد. این امکان اگر از نسخه اصلی کارخانه سوییچ کنید فعال خواهد بود، اما اگر از نسخه قدیمی Braiins OS ارتقا انجام میدهید باید به صورت دستی این امکان را فعال کنید.
    * [feature] ارتقا سیستم گزارش‌گیری با پیاده سازی logrotate. سیستم گزارشات اکنون به صورت خودکار گزارشات را فشرده‌سازی و در NAND دستگاه ذخیره میکند که این اجازه دسترسی به گزارشات طولانی‌تر را میدهد.
    * [feature] بروز رسانی BOS Toolbox، اکنون میتوانید دستورات سفارشی را در حالت دسته ای اجرا نمایید
    * [bug] نصب روی NAND از روی کارت SD اکنون تنظیمات را به درستی از کارت SD انتقال می‌دهد، به جای اینکه از سیستم قدیمی روی NAND استفاده کند.
    * [bug] رفع ایرادی که در *bosminer.toml* باعث خالی شدن فایل میگردید زمانی که ماینر قبل از پاکسازی بافر سیستم خاموش می‌شد.
    * [bug] دکمه IP report اکنون به درستی کار میکند

  * Antminer S9

    * [feature] ما به Xilinx I2C IP core برای ارتباط بین کنترلرهای ولتاژ بازگشتیم و آنرا با فیلترینگ glitch برای تجهیزات نویزدار توسعه داده شد
    * [feature] خط UART Rx برای ارتباط بین چیپ‌های هش با فیلترینگ glitch توسعه داده شد.


20.04
---------------------------

این نسخه انتشار بیشتر مشکلات کاربران را پوشش میدهد، سختی‌های نصب/حذف نصب و یک خطای اساسی مربوط به I2C Controller روی دستگاه‌های S9. همچنین اکنون نسخه‌های توسعه nightly به راحتی قابل فعالسازی از طریق ابزار **bos** هست.

  * مربوط به تمام نوع سخت افزارها

    * [feature] support for reconnect - we have implemented support for `client.reconnect` (stratum V1) and reconnect message for V2
    * [feature] روند نصب/حذف نصب (موسوم به **upgrade2bos** و **restore2factory** ) (انتقال از سیستم عامل کارخانه به سیستم عامل Braiins OS یا بالعکس) بهینه شده است:
    * [feature] نام کاربری استخر سفارشی (`--pool-user`) میتواند از طریق خط فرمان تنظیم شود 
    * [feature] اکنون تنظیمات استخر از سیستم عامل کارخانه به طور خودکار به پیکربندی BOSminer منتقل می شود. انتقال را با مشخص کردن می توان غیرفعال کرد (`--no-keep-pools`)
    * [feature] ما اکنون فرم باینری از **upgrade2bos** را تامین کرده ایم (based on pyinstaller) که شامل آخرین ایمیج نصب Braiins OS است.
    * [feature] به همین ترتیب، **restore2factory** در فرم باینری در دسترس است . دیگر نیازی دانلود/جستجوی نسخه صحیح فریم‌ور کارخانه نیست.
    * [feature] فضای دیسک و زمان تهیه نسخه پشتیبان از فریم‌ور اصلی اکنون به طور پیش فرض غیرفعال است (میتوان با `--backup` فعال کرد )
    * [feature] نگهداری host name همزمان با اجرای نصب برای اولین بار با دو گزینه انتخاب `--keep-hostname` و `--no-keep-hostname` اجازه رونویسی یا ایجاد hostname خودکار بر اساس آدرس MAC
    * [feature] پشتیبانی از فعال/غیرفعال سازی نسخه‌های nightly در داخل **bos** ادغام شده است (and its legacy **miner** counterpart)
    * [feature] سیستم اکنون **گزارشات** را در **مدت زمان طولانی تر** از عملکرد *BOSminer* را به دلیل **چرخش گزارشات** پوشش می دهد و عملیات فشرده سازی '/var/log/syslog.old' را وقتی بزرگتر از 32 کیلوبایت باشد انجام میدهد
    * [bug] کارت حافظه SD اکتون شاکل کلید عمومی Slushpool است که وجود نداشت
    * [bug] اکنون نرخ رد به درستی نمایش داده می شود
    * [bug] پیام های ناشناخته V1 stratum دریافت شده از سرور اکنون برای تشخیص لاگ شده‌اند

  * Antminer S9
  
    * [bug] برخی از دستگاه ها در حال تجربه قفل شدن I2C controller bus به صورت تصادفی بودند و در برقراری ارتباط با پاور کنترل کننده های هشبورد متصل به I2C bus مشترک قادر به برقراری ارتباط نبودند. ما فهمیدیم که علت اصلی هسته کنترل کننده Xilinx I2C بود که ما در bitstream FPGA ادغام کرده‌ایم. ما به I2C موجود در SoC تغییر داده ایم و فقط جریان سیگنال محیطی (IIC0) را به پین های مربوط به FPGA هدایت می کند.


20.03
---------------------------

برای مشاهده لینک `WHATSNEW.MD <https://github.com/braiins/braiins/blob/master/braiins-os/whatsnew.md>`_ در گیت‌هاب را مطالعه کنید.

********************
مشکلات شناسایی شده
********************

آنچه در ادامه میبینید لیستی از ایراداتی است که در نسخه منتشر شده وجود دارند.

20.03 (بروز شده در 3/30/2020)
-------------------------------

  * رابط کاربری گرافیکی

   * خط رجوع در جدول هش ریت، ارزش  نادرستی برای هش ریت میانگین دارد. مشکل زمانی وجود دارد که کمتر از سه زنجیره هش ریت قابل استفاده هستند.
   * نسبت رد شدن ضرب در ۱۰۰ است. برای مثال زمانی که نسبت رد شدن، ۰/۱٪ است، ۱۰٪ نمایش داده خواهد شد.

  * پیکربندی

    * نصب SD Card عدم وجود کلید احراز هویت  دستگاه Strautum V2 را در تنظیمات ماینر گزارش میدهد. (Error: missing upstream authority key for securing stratum2+tcp connection in pool") کاربر میتواند اتصال ( شامل کلید) را در قسمت تنظیمات یا به طور مستقیم در فایل ``/etc/bosminer.toml`` مشخص کند
